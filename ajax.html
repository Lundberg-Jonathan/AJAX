<!DOCTYPE html>
<!--
Topics covered in this page:
    - Using XMLHTTPRequest to Consume a JSON Web Service
-->
<html>
    <head>
        <title>AJAX Examples</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" type="text/css" href="jdlundberg.css">
        <script>
            function loadXMLDoc()
            {
                var ajaxRequest;
                if (window.XMLHttpRequest)
                {// code for IE7+, Firefox, Chrome, Opera, Safari
                    ajaxRequest=new XMLHttpRequest();
                }
                else
                {// code for IE6, IE5
                    ajaxRequest=new ActiveXObject("Microsoft.XMLHTTP");
                }
                ajaxRequest.onreadystatechange=function()
                {
                    if (ajaxRequest.readyState==4 && ajaxRequest.status==200)
                    {
                        document.getElementById("myDiv").innerHTML=ajaxRequest.responseText;
                    }
                }
                ajaxRequest.open("GET","newfile.txt",true);
                ajaxRequest.send();
            }
        </script>
        <script>
            function loadXMLDoc2()
            {
                var ajaxRequest;
                if (window.XMLHttpRequest)
                {// code for IE7+, Firefox, Chrome, Opera, Safari
                    ajaxRequest=new XMLHttpRequest();
                }
                else
                {// code for IE6, IE5
                    ajaxRequest=new ActiveXObject("Microsoft.XMLHTTP");
                }
                ajaxRequest.onreadystatechange=function()
                {
                    if (ajaxRequest.readyState==4 && ajaxRequest.status==200)
                    {
                        document.getElementById("myDiv2").innerHTML=ajaxRequest.responseText;
                    }
                }
                ajaxRequest.open("GET","mytextfile.txt",true);
                ajaxRequest.send();
            }
        </script>
    </head>
    <body>
        
        <div id="myDiv">
            <p>AJAX can replace this text with text from a file on the server.</p>
            <p>Click on "Change Content" below to change this text.</p>
        </div>
        <button type="button" onclick="loadXMLDoc()">Change Content</button>
        <br />
        <br />
        <div id="myDiv2">
            <p>If the resource doesn't exist on the server, nothing will happen
                when you click the button.</p>
            <p>Let's try finding a non-existent resource called 'mytextfile.txt.'</p>
        </div>
        <button type="button" onclick="loadXMLDoc2()">Change Content</button>
        <br />
        <br />
        <div id="myDiv">
            <p>Another thing you need to worry about is making sure that you are
            changing the correct div.  The javascript function will only change
            the first div with the associated id.  This div and the first div are
            both named 'myDiv,' and the script associated with the button below
            applies the text in the .txt file to the div id'd as 'myDiv.'</p>
            <p>However, when you click this button, it still only affects the first
                occurrence of the 'myDiv' id.
        </div>
        <button type="button" onclick="loadXMLDoc()">Change Content</button>
    </body>
</html>